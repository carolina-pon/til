### Webサーバー
***
- Webアプリケーションにおいて、Webクライアントに対する窓口の役割を果たすプログラム
  - e.g. Webクライアントからのリクエストを受け取り静的コンテンツを配信
  - 処理が必要なものではサーバーサイド・プログラムと連携→処理の結果として作成されたHTMLファイルをWebブラウザに転送
- 窓口の役割なため、このサーバーが動作しなくなる→サービスが提供できない/リクエスト送信してきたWebクライアントへサービスの停止の通知もできない
- 一般的にはサーバーの機器台を多くし、１台の負担軽減＆１台故障しても別のサーバーでサービスが続けられるようにする「冗長化」という構成をとる
#### 求められるサーバー機器の性能
- 利用者が多いWebアプリはリクエストの小が増える→ __レスポンス処理の速さ__が求められる
- 静的ページのリクエストが多いWebアプリ→静的ページを読み込むためのハードディスクの読み取りが速い＆読み取りをサポートする __メモリ容量の大きさ__ が求められる
- 動的ページのリクエストが多い→アプリケーションサーバーへのデータ連携を速くするため __CPU性能の高さ__ が求められる
#### 静的コンテンツの配置
- Webサーバーは静的コンテンツを配信する→静的コンテンツは必ずしもWebサーバーと同じサーバー機器上に置かなくていい(Webサーバーからアクセスできるところにあれば)
  - 別サーバー機器上にある場合はネットワーク越しにコンテンツを取りにいく→レスポンスに時間がかかる
- 複数台の機器でWebサーバーが動作しているときは、機器間で同じコンテンツを持つよう __コンテンツの同期__ を行う方法を考える必要がある
***
### Webクライアント
***
- Webサーバーとやりとりを行いWebシステムを利用するためのプログラム
  - Webサーバーへリクエストを送る→Webサーバからのレスポンスを受け取りそれを解釈する
- ユーザーの操作をWebサーバーへのリクエストの形に変換したり、Webサーバーのレスポンスを人間がわかりやすい形に変えて表示する
  - ユーザーとWebサーバーの橋渡し
#### Webブラウザ
- Webアプリケーションを利用するためのWebクライアントとして最も利用される
- もともとはハーパーテキストの表示のためのプログラム→クライアント・スクリプトの実行やCookieの管理など多くの機能を持つように
- 現在では多くのWebアプリがWebブラウザで実行できるようになっている
#### クライアントプログラム
- Webブラウザは多くのWebアプリケーションに対する汎用的なWebクライアント
- Webブラウザでは利用できないものや十分に機能を活かせないもの→専用のクライアントプログラムが用意される
  - e.g.スマホ向けのFacebook、Twitterのアプリ、兄弟掲示板２ちゃんねる専用ブラウザ　など
  - これらはWebブラウザとは異なり対応するWebアプリに特化した機能を持っている(フィードリーダーもそのようなプログラムの１つ)
  - こういったプログラムは一般に専用クライアント、専用ブラウザと呼ばれる
  - PC用ならデスクトップアプリ、スマホ専用ならスマホアプリと呼ばれる
***
### アプリケーションサーバー(APサーバー)
***
- Webアプリケーションの中核となる業務処理を行うプログラム
  - Webサーバーから転送されてきたユーザーからのデータを受け取り→サーバーサイド・プログラムを実行→  
  データの加工・データベースのデータ検索/加工→Webサーバーに応答を返す
  - ３層アーキテクチャの中でアプリケーション層に位置
  - プレゼンテーション層・データ層の両方とのやりとりも行う→ __３層アーキテクチャの中でもっとも多機能なサーバー__
    - 基本的に多機能、業務処理が複雑になればなるほど負荷が高くなる
    - 動作させるサーバー機器にはサーバーサイド・スクリプトを動作させるためのメモリ容量/CPU性能が重視される
#### セッション管理機能
- HTTPは基本的に１回のリクエストとレスポンスで通信が切断されるステートレスなプロトコル
  - HTTPだけではクライアントがどんな状態かわからない
- アプリケーションサーバーはクライアントごとに発行したセッションIDを通信データに含める→  
  同じクライアントからの通信を１つのセッションという単位で判別→各クライアントのログイン状況等を判断
- クライアントがログアウトした場合はそれ以降の状態の把握する必要がない→セッションID破棄
- __ログインからログアウト__ するまでの一連の通信が１セッション
#### トランザクション管理機能
- セッション中に行われる一連の作業斧最小単位
- トランザクション中には複数の処理が含まれるが、HTTPの通信は１リクエスト・１レスポンスで成り立っている
  - アプリケーションサーバーはそれら複数の通信を１つのｎトランザクションとしてまとめて管理する機能を持っている
