### Webプログラミング
***
- プログラミング言語を使用してWebアプリケーションを開発すること
#### サーバーサイド　プログラミング
- 多くのリクエストを素早く処理する必要がある→効率的な手順、サーバーのメモリを無駄遣いしないことが求められる
- データベースとのやりとりをすることも多くなるのでDBMS、SQLの知識が必要になる
- 顧客管理情報を扱う場合はセキュリティを意識したプログラミング技術も求められる
#### クライアントサイド　プログラミング
- Webアプリにおけるクライアントは主にWebブラウザ
- ブラウザの種類ごとの動作の違いを把握する
- Ajaxや複雑な処理を行うものも増えている→専用クライアントの開発もクライアントサイドのプログラミングにあたる
***
### Web API(Application Program Interface)
- 「クライアントがデータを送信して、サーバからデータを返送してもらう」という動作を利用→Webを通じてユーザーではなくプログラムが直接サービスを利用するための窓口
- クライアントとなるプログラム「ワイがいくで！」→WebAPIにWeb経由でデータ送信→データを受け取ったWebサーバがデータ処理→Webを経由してクライアントに処理結果のデータ返信
- HTMLではなくXMLのような構造化されたデータが返信される→プログラムにとっては受信したデータを処理しやすくなる！
  - e.g. ログイン情報と文章のを送信すれば、Twitterにその文章が投稿されるTwitter投稿APIなど
#### プログラム同士のやりとり
- WebAPIとのデータのやりとりの方法
  - XML-RPC→XMLを送信することで処理の実行要求するプロトコル(受信するデータの形式にもXMLが使用される)
  - SOAP→XML-RPCの機能を拡張したもの 2000年初頭まで広く利用されていた
  - __REST__ →1－10節で説明※　プロトコルではなく設計思想/シンプルかつデータの形式がXMLに限定されずJSONのような軽量なデータも利用できる→現在の主流！！
#### マッシュアップ
- プログラムが複数のWebサービスを利用し、それらの処理結果を組み合わせて新たなWebサービスを生み出すこと***
  - e.g.位置情報から取得した地図情報と天気予報情報を用いてその日に着る服をおすすめするサービス　など

#### 各サービスの強みを利用する
- マッシュアップでよく使用されるサービス→Googleマップなどの地図情報、Amazonの商品情報など
- 各社がAPIを公開するようになって、それらの情報に簡単にアクセス、利用できるように！
#### マッシュアップの注意点
- 各サービスのWebAPI公開範囲や使用はサービスを提供する各社の判断に委ねられている
- マッシュアップで生み出されたサービスは独立したものではなく、もとになるサービスのおかげで成り立っている
***
### CGI
***
- Webサーバがクライアントからの要求に応じてサーバーサイドスクリプトを起動するための仕組み
- 通常、Webサーバーはクライアントからのリクエストを受ける→対応するコンテンツ返信する
- あらかじめCGIプログラムとして定義されたコンテンツについてはそのままクライアントに返信しない→Webサーバー上で実行した結果を返信する
  - CGIプログラムに用いられる言語はWebサーバー上で実行できるものなら何でもいい
  - APサーバーを用意しなくてもWebサーバー上でサーバーサイドスクリプトを実行できる→小規模な動的ページの作成に多く用いられている
#### データの渡し方
- クライアントがCGIの場所(URL)にアクセスする→対象となるプログラムが起動される
  - __コマンドライン引数渡し__ →URLの末尾に？を付け、そのあとにデータを＋で区切って並べる
    - 「http://example.com/program.cgi?データ1+データ2」
    - WebサーバーがCGIプログラムを実行するときにデータをCGIにする
  - __パス渡し__ →データをリクエストURLの階層構造に含めて渡す方法
    - 「http://example.com/program.cgi/データ1/データ2」
    - CGIの場所を示すURLのあとに「/」で区切ってデータを並べる
    - データが「PATH_INFO」という変数に格納される→CGIプログラムが起動後にそこから変数を取り出す
  - HTTPのGET、POSTメソッドでデータを渡す
    - GETメソッド「http://example.com/program.cgi/?データ名1=データ1&データ名2=データ2」末尾にデータ追加→「QUERY_STRING」という変数に格納される
    - POSTメソッド　リクエストとしいてURLとは別にデータを送る
***
### サーバー間の連携
***
- CGIを利用せずにサーバーサイド・スクリプトを動作させる場合
  - WebサーバーがAPサーバーにデータ処理を依頼→APサーバーがサーバーサイドスクリプトを動作させる流れになる
- サーバー間の連携はWebブラウザ・サーバーの連携と同じようにネットワーク通信で行われる
  - Webサーバー→クライアント　APサーバー→サーバー　という関係に(※APサーバーとDBMS間の連携も同様)
#### サーバー同士の通信
- リクエストする側がクライアント、レスポンスを返す側がサーバーとなる
  - IPアドレスとポート番号を指定してTCP/IP通信が行われる
  - APサーバーやDBMSにもあらかじめポート番号が割り当てられている→クライアント側がそのポート番号を指定
  - 通信しているサーバーが別のサーバー機器で稼働している場合→サーバー機器に割り当てられたIPアドレスを指定して通信
  - 同じサーバー機器で稼働している場合→そのサーバー機器に割り当てられたIPアドレス/もしくは自らの稼働しているサーバー機器を表す特殊なIPアドレスである「127.0.0.1」を指定して通信
#### 利用するプロトコル
- WebサーバーにおけるHTTPのようにAPサーバーやDBMSでもそれぞれ利用するプロトコルが決まっている
  - ※HTTPのように「APサーバーであればどの種類でもこのプロトコルを使う」というようなものはない
  - APサーバーでは、その種類によりHTTPのほかにAJP、Websocketといったプロトコルが利用されている→Webサーバーはいずれかを用いAPサーバーとやりとりする
  -DBMSではそれぞれ独自のプロトコルが採用されている→各APサーバーがそのすべてに対応することは難しい…
    - APサーバーとDBMS間で通信を行うためにODBC(Open Databases Connectivity)というAPIが開発されている
