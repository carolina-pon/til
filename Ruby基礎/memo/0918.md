## 4.8~ ブロックについてもっと詳しく
- 繰り返し処理をしつつ処理している要素の添え字も取得したいとき
  - each_with_indexメソッドを使うと便利！ブロック引数と第2引数に添え字を渡してくれる
```
fruits = ["apple","orange","melon"]
#ブロック引数のiには0,1,2...と要素の添え字が入る
fruits.each_with_index{|fruit,i| puts "#{i}: #{fruit}" }
#=> 0:apple
#=> 1:orange
#=> 2:melon
```
- mapメソッドで繰り返し処理しつつ添え字も同時に取得したいとき
  - mapメソッドとwith_indexメソッドを組み合わせて使う
```
fruits = ["apple","orange","melon"]
#mapとして処理しつつ、添え字も受け取る
fruits.map.with_index {|fruit, i| "#{i}: #{fruit}}
#=>  ["0: apple", "1: orange", "2: melon"]
```
- with_indexメソッドはmap意外のメソッドとも組み合わせて使える
- with_indexメソッドはEnumeratorメソッドのインスタンスメソッド
　- eachメソッドやmapメソッド、delete_ifメソッドな繰り返し処理を行うメソッドの大半はブロックを省略して呼び出すとEnumeratorメソッドを返すようになっている

## 添え字を0以外の数値から開始させる
- with_indexメソッドに引数を渡すと添え字が引数で渡した数値から開始する
    - __each_with_indexには引数が渡せない×__
## 配列がブロック引数に渡される場合
- 配列の配列に繰り返し処理をするとブロック引数に配列がわたってくる
- ブロック引数を2個にすると縦と横の値を別々に受け取ることが出来る
 ブロック引数が多すぎる場合ははみ出したものがnilになる
 - 配列の要素を受け取るブロック引数を()で囲むと別々の引数として受け取れる
## ブラックローカル変数
- ブロック引数を;で区切り、続けて変数を宣言するとブロック内でのみ有効な独立してローカル変数を宣言可能
  - ※あんま使わんらしい
## 繰り返し処理以外でも使用されるブロック
- ファイルのような外部リソースを扱う際、「オープンしたら必ずクローズする」という処理が必要になる
  - File.openメソッドと組み合わせると上記の処理の面倒を見てくれる　べんりーー
## do...endと{}の結合度の違い
- do...endの方が結合度が高い
- 配列のdeleteメソッドにはブロックを渡すことが出来る
- 引数付きのメソッド呼びだしで{}をブロックとして扱う場合はメソッド引数の()を省略できない